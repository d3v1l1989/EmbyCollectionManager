version: '3.8'

services:
  tmdbcollector:
    image: ghcr.io/d3v1l1989/tmdbcollector:latest
    container_name: tmdbcollector
    volumes:
      - ./config:/app/config:ro
    env_file:
      - .env
    # The sync target(s) are now controlled via the SYNC_TARGETS variable in your .env file.
    # Example: SYNC_TARGETS="--sync_emby --sync_jellyfin"
    command: ["/bin/sh", "-c", "python main.py $SYNC_TARGETS"]
    restart: unless-stopped
